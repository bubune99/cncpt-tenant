{"version":3,"sources":["../src/components/admin-chat/chat-panel.tsx","../src/components/ui/textarea.tsx","../src/components/ui/tooltip.tsx","../src/lib/ai/chat-store.ts","../src/hooks/use-chat-context.ts"],"sourcesContent":["'use client';\n\n/**\n * Admin Chat Panel\n *\n * A persistent chat panel for the admin dashboard with AI assistant.\n * Uses AI SDK v6 with proper streaming and tool support.\n */\n\nimport { useEffect, useRef, useState, useCallback, useMemo } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useChat, type UseChatHelpers } from '@ai-sdk/react';\nimport { TextStreamChatTransport, type UIMessage } from 'ai';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\nimport {\n  MessageSquare,\n  X,\n  Maximize2,\n  Minimize2,\n  Send,\n  Loader2,\n  Plus,\n  Bot,\n  User,\n  Sparkles,\n  CheckCircle2,\n  AlertCircle,\n  Square,\n  Settings,\n  History,\n  Trash2,\n  Clock,\n  ChevronLeft,\n  Package,\n  ShoppingCart,\n  FileText,\n  Users,\n  PenLine,\n} from 'lucide-react';\nimport { Button } from '../ui/button';\nimport { Textarea } from '../ui/textarea';\nimport { ScrollArea } from '../ui/scroll-area';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '../ui/tooltip';\nimport { cn } from '../../lib/utils';\nimport { useChatStore, useChatPanel, useChatContext } from '../../lib/ai/chat-store';\nimport { useAutoChatContext } from '../../hooks/use-chat-context';\n\n// Animated typing dots component\nconst TypingDots = () => (\n  <div className=\"flex items-center gap-1\">\n    {[0, 1, 2].map((i) => (\n      <motion.span\n        key={i}\n        className=\"size-1.5 rounded-full bg-primary\"\n        animate={{ scale: [1, 1.3, 1], opacity: [0.4, 1, 0.4] }}\n        transition={{ duration: 1, repeat: Infinity, delay: i * 0.2 }}\n      />\n    ))}\n  </div>\n);\n\n// Types for message parts\ninterface TextPart {\n  type: 'text';\n  text: string;\n}\n\ninterface ToolInvocationPart {\n  type: string;\n  toolCallId: string;\n  toolName?: string;\n  state: 'call' | 'partial-call' | 'result';\n  args?: Record<string, unknown>;\n  result?: unknown;\n}\n\ninterface ReasoningPart {\n  type: 'reasoning';\n  text: string;\n}\n\ntype MessagePart = TextPart | ToolInvocationPart | ReasoningPart | { type: string; [key: string]: unknown };\n\n// Helper to check if part is a text part\nfunction isTextPart(part: MessagePart): part is TextPart {\n  return part.type === 'text' && 'text' in part;\n}\n\n// Helper to check if part is a tool invocation\nfunction isToolPart(part: MessagePart): part is ToolInvocationPart {\n  return (\n    (part.type.startsWith('tool-') || part.type === 'tool-invocation') &&\n    'toolCallId' in part &&\n    'state' in part\n  );\n}\n\n// Helper to check if part is reasoning\nfunction isReasoningPart(part: MessagePart): part is ReasoningPart {\n  return part.type === 'reasoning' && 'text' in part;\n}\n\n// Get tool name from part\nfunction getToolName(part: ToolInvocationPart): string {\n  if (part.toolName) return part.toolName;\n  if (part.type.startsWith('tool-')) return part.type.slice(5);\n  return 'unknown';\n}\n\n// Process message parts for rendering\nfunction processMessageParts(message: UIMessage): {\n  textParts: TextPart[];\n  toolParts: ToolInvocationPart[];\n  reasoningParts: ReasoningPart[];\n} {\n  const parts = (message.parts || []) as MessagePart[];\n\n  return {\n    textParts: parts.filter(isTextPart),\n    toolParts: parts.filter(isToolPart),\n    reasoningParts: parts.filter(isReasoningPart),\n  };\n}\n\n// Get combined text from message\nfunction getMessageText(message: UIMessage): string {\n  const { textParts } = processMessageParts(message);\n  return textParts.map((part) => part.text).join('');\n}\n\n// Suggested actions for empty state\nconst SUGGESTED_ACTIONS = [\n  { label: 'Show dashboard stats', icon: 'üìä' },\n  { label: 'Search products', icon: 'üîç' },\n  { label: 'Recent orders', icon: 'üì¶' },\n  { label: 'Help me navigate', icon: 'üß≠' },\n];\n\n// Get icon for context type\nfunction getContextIcon(type: string) {\n  switch (type) {\n    case 'product':\n      return Package;\n    case 'order':\n      return ShoppingCart;\n    case 'page':\n      return FileText;\n    case 'blog':\n      return PenLine;\n    case 'user':\n      return Users;\n    default:\n      return MessageSquare;\n  }\n}\n\n// Format relative time\nfunction formatRelativeTime(date: Date): string {\n  const now = new Date();\n  const diffMs = now.getTime() - new Date(date).getTime();\n  const diffMins = Math.floor(diffMs / 60000);\n  const diffHours = Math.floor(diffMins / 60);\n  const diffDays = Math.floor(diffHours / 24);\n\n  if (diffMins < 1) return 'Just now';\n  if (diffMins < 60) return `${diffMins}m ago`;\n  if (diffHours < 24) return `${diffHours}h ago`;\n  if (diffDays < 7) return `${diffDays}d ago`;\n  return new Date(date).toLocaleDateString();\n}\n\nexport function ChatPanel() {\n  useAutoChatContext();\n  const router = useRouter();\n  const { mode, setMode, togglePanel } = useChatPanel();\n  const { context } = useChatContext();\n  const conversationId = useChatStore((s) => s.conversationId);\n  const startNewConversation = useChatStore((s) => s.startNewConversation);\n  const addToHistory = useChatStore((s) => s.addToHistory);\n  const conversationHistory = useChatStore((s) => s.conversationHistory);\n  const loadConversation = useChatStore((s) => s.loadConversation);\n  const removeFromHistory = useChatStore((s) => s.removeFromHistory);\n  const clearHistory = useChatStore((s) => s.clearHistory);\n\n  const scrollRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLTextAreaElement>(null);\n  const [inputValue, setInputValue] = useState('');\n  const [aiError, setAiError] = useState<string | null>(null);\n  const [showHistory, setShowHistory] = useState(false);\n\n  // Initialize conversation ID if not set\n  useEffect(() => {\n    if (!conversationId) {\n      startNewConversation();\n    }\n  }, [conversationId, startNewConversation]);\n\n  // Create transport with body that includes context\n  const transport = useMemo(() => {\n    return new TextStreamChatTransport({\n      api: '/api/chat',\n      body: {\n        id: conversationId,\n        context,\n      },\n    });\n  }, [conversationId, context]);\n\n  // Use the AI SDK v6 useChat hook\n  const {\n    messages,\n    status,\n    sendMessage,\n    setMessages,\n    stop,\n    error,\n  } = useChat({\n    id: conversationId || undefined,\n    transport,\n    onError: (err) => {\n      // Parse error for better display\n      const errorMessage = err.message || 'An error occurred';\n      if (errorMessage.includes('AI is not enabled') || errorMessage.includes('No API key')) {\n        setAiError('AI is not configured. Please add your API key in Settings > AI.');\n      } else if (errorMessage.includes('rate limit')) {\n        setAiError('Rate limit reached. Please try again later.');\n      } else {\n        setAiError(errorMessage);\n      }\n    },\n    onFinish: ({ message }) => {\n      setAiError(null);\n      // Update history\n      if (conversationId && messages.length > 0) {\n        const firstUserMessage = messages.find((m) => m.role === 'user');\n        const firstUserText = firstUserMessage ? getMessageText(firstUserMessage) : '';\n        const messageText = getMessageText(message);\n\n        addToHistory({\n          id: conversationId,\n          title: firstUserText?.slice(0, 50) || 'New Chat',\n          lastMessage: messageText?.slice(0, 100) || '',\n          context: context,\n        });\n      }\n    },\n  });\n\n  // Handle loading a conversation from history\n  const handleLoadConversation = useCallback((id: string) => {\n    loadConversation(id);\n    setMessages([]);\n    setShowHistory(false);\n    setAiError(null);\n  }, [loadConversation, setMessages]);\n\n  const isLoading = status === 'submitted' || status === 'streaming';\n  const isStreaming = status === 'streaming';\n\n  // Auto-scroll to bottom on new messages\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  // Handle send message\n  const handleSend = useCallback(async () => {\n    if (!inputValue.trim() || isLoading) return;\n\n    const messageContent = inputValue.trim();\n    setInputValue('');\n    setAiError(null);\n\n    await sendMessage({ text: messageContent });\n\n    inputRef.current?.focus();\n  }, [inputValue, isLoading, sendMessage]);\n\n  // Handle key press\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  // Handle new conversation\n  const handleNewConversation = () => {\n    startNewConversation();\n    setMessages([]);\n    setAiError(null);\n  };\n\n  // Handle stop\n  const handleStop = useCallback(() => {\n    stop();\n  }, [stop]);\n\n  // If collapsed, show only the floating button\n  if (mode === 'collapsed') {\n    return (\n      <motion.div\n        initial={{ scale: 0, opacity: 0 }}\n        animate={{ scale: 1, opacity: 1 }}\n        exit={{ scale: 0, opacity: 0 }}\n        transition={{ type: 'spring', stiffness: 400, damping: 25 }}\n        className=\"fixed bottom-6 right-6 z-50\"\n      >\n        <TooltipProvider>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                onClick={togglePanel}\n                size=\"icon\"\n                className={cn(\n                  'h-14 w-14 rounded-full shadow-lg',\n                  'bg-gradient-to-br from-primary to-primary/80',\n                  'hover:scale-110 hover:shadow-xl hover:shadow-primary/20',\n                  'active:scale-95',\n                  'transition-all duration-200'\n                )}\n              >\n                <Sparkles className=\"h-6 w-6\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent side=\"left\">\n              <p>Open AI Assistant</p>\n            </TooltipContent>\n          </Tooltip>\n        </TooltipProvider>\n        <span className=\"absolute inset-0 -z-10 rounded-full bg-primary/20 animate-ping\" />\n      </motion.div>\n    );\n  }\n\n  const isFullScreen = mode === 'full';\n\n  return (\n    <motion.div\n      initial={{ x: 400, opacity: 0 }}\n      animate={{ x: 0, opacity: 1 }}\n      exit={{ x: 400, opacity: 0 }}\n      transition={{ type: 'spring', stiffness: 300, damping: 30 }}\n      className={cn(\n        'fixed z-50 flex flex-col bg-background/95 backdrop-blur-xl border-l shadow-2xl',\n        isFullScreen\n          ? 'inset-0'\n          : 'top-0 right-0 bottom-0 w-[420px] max-w-full'\n      )}\n    >\n      {/* Header */}\n      <div className=\"flex items-center justify-between px-4 py-3 border-b bg-gradient-to-r from-muted/50 to-transparent\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"flex size-9 items-center justify-center rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 ring-1 ring-primary/20\">\n            <Sparkles className=\"h-4 w-4 text-primary\" />\n          </div>\n          <div className=\"flex flex-col\">\n            <span className=\"font-semibold text-sm\">AI Assistant</span>\n            {context.type !== 'general' && (\n              <span className=\"text-xs text-muted-foreground capitalize\">\n                {context.type}: {context.title || context.id}\n              </span>\n            )}\n          </div>\n        </div>\n        <div className=\"flex items-center gap-0.5\">\n          <TooltipProvider>\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  onClick={() => setShowHistory(!showHistory)}\n                  className={cn(\n                    'rounded-lg transition-colors h-8 w-8',\n                    showHistory ? 'bg-primary/10 text-primary' : 'hover:bg-muted'\n                  )}\n                >\n                  <History className=\"h-4 w-4\" />\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>Conversation history</TooltipContent>\n            </Tooltip>\n\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  onClick={handleNewConversation}\n                  className=\"rounded-lg hover:bg-muted transition-colors h-8 w-8\"\n                >\n                  <Plus className=\"h-4 w-4\" />\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>New conversation</TooltipContent>\n            </Tooltip>\n\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  onClick={() => setMode(isFullScreen ? 'side' : 'full')}\n                  className=\"rounded-lg hover:bg-muted transition-colors h-8 w-8\"\n                >\n                  {isFullScreen ? (\n                    <Minimize2 className=\"h-4 w-4\" />\n                  ) : (\n                    <Maximize2 className=\"h-4 w-4\" />\n                  )}\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>{isFullScreen ? 'Minimize' : 'Maximize'}</TooltipContent>\n            </Tooltip>\n\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  onClick={() => setMode('collapsed')}\n                  className=\"rounded-lg hover:bg-destructive/10 hover:text-destructive transition-colors h-8 w-8\"\n                >\n                  <X className=\"h-4 w-4\" />\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>Close</TooltipContent>\n            </Tooltip>\n          </TooltipProvider>\n        </div>\n      </div>\n\n      {/* Error Banner */}\n      <AnimatePresence>\n        {aiError && (\n          <motion.div\n            initial={{ height: 0, opacity: 0 }}\n            animate={{ height: 'auto', opacity: 1 }}\n            exit={{ height: 0, opacity: 0 }}\n            className=\"border-b border-destructive/20 bg-destructive/5 overflow-hidden\"\n          >\n            <div className=\"flex items-center gap-3 px-4 py-3\">\n              <AlertCircle className=\"h-4 w-4 text-destructive shrink-0\" />\n              <p className=\"text-sm text-destructive flex-1\">{aiError}</p>\n              {aiError.includes('Settings') && (\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => router.push('/admin/settings')}\n                  className=\"shrink-0\"\n                >\n                  <Settings className=\"h-3 w-3 mr-1\" />\n                  Settings\n                </Button>\n              )}\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* History Panel */}\n      <AnimatePresence>\n        {showHistory && (\n          <motion.div\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: 'auto' }}\n            exit={{ opacity: 0, height: 0 }}\n            className=\"border-b bg-muted/30 overflow-hidden\"\n          >\n            <div className=\"p-3\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <div className=\"flex items-center gap-2\">\n                  <History className=\"h-4 w-4 text-muted-foreground\" />\n                  <span className=\"text-sm font-medium\">Recent Conversations</span>\n                  <span className=\"text-xs text-muted-foreground\">\n                    ({conversationHistory.length})\n                  </span>\n                </div>\n                {conversationHistory.length > 0 && (\n                  <TooltipProvider>\n                    <Tooltip>\n                      <TooltipTrigger asChild>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => {\n                            if (confirm('Clear all conversation history?')) {\n                              clearHistory();\n                            }\n                          }}\n                          className=\"h-7 text-xs text-muted-foreground hover:text-destructive\"\n                        >\n                          <Trash2 className=\"h-3 w-3\" />\n                        </Button>\n                      </TooltipTrigger>\n                      <TooltipContent>Clear history</TooltipContent>\n                    </Tooltip>\n                  </TooltipProvider>\n                )}\n              </div>\n\n              {conversationHistory.length === 0 ? (\n                <div className=\"text-center py-6 text-muted-foreground\">\n                  <Clock className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\n                  <p className=\"text-sm\">No conversation history yet</p>\n                  <p className=\"text-xs mt-1\">Start a conversation to see it here</p>\n                </div>\n              ) : (\n                <ScrollArea className=\"max-h-[200px]\">\n                  <div className=\"space-y-1\">\n                    {conversationHistory.map((conv) => {\n                      const ContextIcon = conv.context\n                        ? getContextIcon(conv.context.type)\n                        : MessageSquare;\n                      const isActive = conv.id === conversationId;\n\n                      return (\n                        <motion.div\n                          key={conv.id}\n                          initial={{ opacity: 0, x: -10 }}\n                          animate={{ opacity: 1, x: 0 }}\n                          className=\"group relative\"\n                        >\n                          <button\n                            onClick={() => handleLoadConversation(conv.id)}\n                            className={cn(\n                              'w-full text-left p-2.5 rounded-lg transition-all duration-200',\n                              'hover:bg-background/80 hover:shadow-sm',\n                              isActive && 'bg-primary/5 ring-1 ring-primary/20'\n                            )}\n                          >\n                            <div className=\"flex items-start gap-2.5\">\n                              <div\n                                className={cn(\n                                  'flex size-7 shrink-0 items-center justify-center rounded-md',\n                                  'bg-muted/80',\n                                  isActive && 'bg-primary/10'\n                                )}\n                              >\n                                <ContextIcon\n                                  className={cn(\n                                    'h-3.5 w-3.5',\n                                    isActive ? 'text-primary' : 'text-muted-foreground'\n                                  )}\n                                />\n                              </div>\n                              <div className=\"flex-1 min-w-0\">\n                                <div className=\"flex items-center gap-2\">\n                                  <span\n                                    className={cn(\n                                      'text-sm font-medium truncate',\n                                      isActive && 'text-primary'\n                                    )}\n                                  >\n                                    {conv.title || 'Untitled Chat'}\n                                  </span>\n                                  {isActive && (\n                                    <span className=\"text-[10px] bg-primary/10 text-primary px-1.5 py-0.5 rounded-full\">\n                                      Active\n                                    </span>\n                                  )}\n                                </div>\n                                <p className=\"text-xs text-muted-foreground truncate mt-0.5\">\n                                  {conv.lastMessage || 'No messages'}\n                                </p>\n                                <div className=\"flex items-center gap-2 mt-1\">\n                                  {conv.context && conv.context.type !== 'general' && (\n                                    <span className=\"text-[10px] bg-muted px-1.5 py-0.5 rounded capitalize\">\n                                      {conv.context.type}\n                                      {conv.context.id && `: ${conv.context.id.slice(0, 8)}...`}\n                                    </span>\n                                  )}\n                                  <span className=\"text-[10px] text-muted-foreground/70\">\n                                    {formatRelativeTime(conv.updatedAt)}\n                                  </span>\n                                </div>\n                              </div>\n                            </div>\n                          </button>\n                          <TooltipProvider>\n                            <Tooltip>\n                              <TooltipTrigger asChild>\n                                <Button\n                                  variant=\"ghost\"\n                                  size=\"icon\"\n                                  onClick={(e) => {\n                                    e.stopPropagation();\n                                    removeFromHistory(conv.id);\n                                  }}\n                                  className={cn(\n                                    'absolute right-2 top-2 h-6 w-6 opacity-0 group-hover:opacity-100',\n                                    'hover:bg-destructive/10 hover:text-destructive transition-all'\n                                  )}\n                                >\n                                  <Trash2 className=\"h-3 w-3\" />\n                                </Button>\n                              </TooltipTrigger>\n                              <TooltipContent>Remove from history</TooltipContent>\n                            </Tooltip>\n                          </TooltipProvider>\n                        </motion.div>\n                      );\n                    })}\n                  </div>\n                </ScrollArea>\n              )}\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Messages */}\n      <ScrollArea className=\"flex-1 p-4\" ref={scrollRef}>\n        {messages.length === 0 ? (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5, delay: 0.2 }}\n            className=\"flex flex-col items-center justify-center h-full text-center py-12\"\n          >\n            <motion.div\n              animate={{\n                boxShadow: [\n                  '0 0 0 0 rgba(var(--primary), 0)',\n                  '0 0 40px 10px rgba(var(--primary), 0.1)',\n                  '0 0 0 0 rgba(var(--primary), 0)',\n                ],\n              }}\n              transition={{ duration: 3, repeat: Infinity }}\n              className=\"flex size-16 items-center justify-center rounded-2xl bg-gradient-to-br from-primary/20 to-primary/5 ring-1 ring-primary/20 mb-6\"\n            >\n              <Sparkles className=\"h-8 w-8 text-primary\" />\n            </motion.div>\n            <motion.p\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.4 }}\n              className=\"text-xl font-semibold\"\n            >\n              How can I help you?\n            </motion.p>\n            <motion.p\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.5 }}\n              className=\"text-sm mt-2 max-w-[280px] text-muted-foreground\"\n            >\n              I can help you manage products, orders, content, navigate the admin panel, and more.\n            </motion.p>\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.6 }}\n              className=\"mt-6 grid grid-cols-2 gap-2 w-full max-w-[320px]\"\n            >\n              {SUGGESTED_ACTIONS.map((action, i) => (\n                <motion.div\n                  key={action.label}\n                  initial={{ opacity: 0, scale: 0.9 }}\n                  animate={{ opacity: 1, scale: 1 }}\n                  transition={{ delay: 0.7 + i * 0.1 }}\n                >\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"w-full justify-start text-left h-auto py-2.5 px-3 hover:bg-primary/5 hover:border-primary/30 transition-all duration-200\"\n                    onClick={() => {\n                      setInputValue(action.label);\n                      inputRef.current?.focus();\n                    }}\n                  >\n                    <span className=\"mr-2\">{action.icon}</span>\n                    <span className=\"truncate text-xs\">{action.label}</span>\n                  </Button>\n                </motion.div>\n              ))}\n            </motion.div>\n          </motion.div>\n        ) : (\n          <div className=\"space-y-4\">\n            <AnimatePresence mode=\"popLayout\">\n              {messages.map((message, index) => {\n                const { textParts, toolParts, reasoningParts } = processMessageParts(message);\n                const isLastMessage = index === messages.length - 1;\n\n                return (\n                  <motion.div\n                    key={message.id}\n                    initial={{ opacity: 0, y: 10, scale: 0.98 }}\n                    animate={{ opacity: 1, y: 0, scale: 1 }}\n                    transition={{\n                      duration: 0.3,\n                      ease: [0.25, 0.46, 0.45, 0.94],\n                    }}\n                    className={cn(\n                      'flex gap-3',\n                      message.role === 'user' ? 'flex-row-reverse' : ''\n                    )}\n                  >\n                    <div\n                      className={cn(\n                        'flex-shrink-0 w-8 h-8 rounded-xl flex items-center justify-center',\n                        message.role === 'user'\n                          ? 'bg-primary text-primary-foreground'\n                          : 'bg-gradient-to-br from-primary/15 to-primary/5 ring-1 ring-primary/20'\n                      )}\n                    >\n                      {message.role === 'user' ? (\n                        <User className=\"h-4 w-4\" />\n                      ) : (\n                        <Sparkles className=\"h-4 w-4 text-primary\" />\n                      )}\n                    </div>\n                    <div\n                      className={cn(\n                        'flex-1 max-w-[85%] space-y-2',\n                        message.role === 'user' ? 'flex flex-col items-end' : ''\n                      )}\n                    >\n                      {/* Reasoning parts (for reasoning models) */}\n                      {reasoningParts.length > 0 && (\n                        <div className=\"text-xs text-muted-foreground bg-muted/30 rounded-lg px-3 py-2 border-l-2 border-primary/30\">\n                          <div className=\"flex items-center gap-1 mb-1 font-medium\">\n                            <Loader2 className=\"h-3 w-3 animate-spin\" />\n                            Thinking...\n                          </div>\n                          <p className=\"italic opacity-70\">\n                            {reasoningParts.map((p) => p.text).join('')}\n                          </p>\n                        </div>\n                      )}\n\n                      {/* Tool invocations - rendered inline as they stream */}\n                      {toolParts.map((tool, i) => (\n                        <motion.div\n                          key={tool.toolCallId}\n                          initial={{ opacity: 0, x: -10 }}\n                          animate={{ opacity: 1, x: 0 }}\n                          transition={{ delay: i * 0.05 }}\n                          className={cn(\n                            'text-xs rounded-lg px-3 py-2 flex items-center gap-2',\n                            'bg-muted/50 border border-border/50'\n                          )}\n                        >\n                          <div\n                            className={cn(\n                              'flex size-5 items-center justify-center rounded-md',\n                              tool.state === 'result'\n                                ? 'bg-green-500/10'\n                                : 'bg-primary/10'\n                            )}\n                          >\n                            {tool.state === 'result' ? (\n                              <CheckCircle2 className=\"h-3 w-3 text-green-600\" />\n                            ) : (\n                              <Loader2 className=\"h-3 w-3 animate-spin text-primary\" />\n                            )}\n                          </div>\n                          <span className=\"font-medium\">{getToolName(tool)}</span>\n                          {tool.state === 'result' && (\n                            <span className=\"text-green-600 ml-auto\">Done</span>\n                          )}\n                          {(tool.state === 'call' || tool.state === 'partial-call') && (\n                            <span className=\"text-muted-foreground ml-auto\">\n                              {tool.state === 'partial-call' ? 'Preparing...' : 'Running...'}\n                            </span>\n                          )}\n                        </motion.div>\n                      ))}\n\n                      {/* Text content */}\n                      {textParts.length > 0 && (\n                        <div\n                          className={cn(\n                            'rounded-2xl px-4 py-3',\n                            message.role === 'user'\n                              ? 'bg-primary text-primary-foreground rounded-tr-sm'\n                              : 'bg-muted/50 rounded-tl-sm'\n                          )}\n                        >\n                          {message.role === 'assistant' ? (\n                            <div className=\"prose prose-sm dark:prose-invert max-w-none prose-p:my-1 prose-ul:my-1 prose-ol:my-1 prose-li:my-0.5 prose-headings:my-2 prose-pre:my-2 prose-code:bg-muted prose-code:px-1 prose-code:rounded\">\n                              <ReactMarkdown remarkPlugins={[remarkGfm]}>\n                                {textParts.map((p) => p.text).join('')}\n                              </ReactMarkdown>\n                            </div>\n                          ) : (\n                            <p className=\"text-sm whitespace-pre-wrap\">\n                              {textParts.map((p) => p.text).join('')}\n                            </p>\n                          )}\n                        </div>\n                      )}\n                    </div>\n                  </motion.div>\n                );\n              })}\n            </AnimatePresence>\n\n            {/* Thinking indicator */}\n            <AnimatePresence>\n              {isLoading && (\n                <motion.div\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  exit={{ opacity: 0, y: -10 }}\n                  className=\"flex gap-3\"\n                >\n                  <motion.div\n                    animate={{ scale: [1, 1.05, 1] }}\n                    transition={{ duration: 2, repeat: Infinity }}\n                    className=\"flex-shrink-0 w-8 h-8 rounded-xl bg-gradient-to-br from-primary/15 to-primary/5 ring-1 ring-primary/20 flex items-center justify-center\"\n                  >\n                    <Sparkles className=\"h-4 w-4 text-primary\" />\n                  </motion.div>\n                  <div className=\"bg-muted/50 rounded-2xl rounded-tl-sm px-4 py-3 flex items-center gap-2\">\n                    <TypingDots />\n                    <span className=\"text-xs text-muted-foreground\">Thinking...</span>\n                  </div>\n                </motion.div>\n              )}\n            </AnimatePresence>\n          </div>\n        )}\n      </ScrollArea>\n\n      {/* Input */}\n      <div className=\"p-4 border-t bg-gradient-to-t from-muted/30 to-transparent\">\n        <motion.div\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.3, delay: 0.1 }}\n          className={cn(\n            'flex items-end gap-2 rounded-xl border p-2',\n            'bg-background/80 backdrop-blur-sm shadow-lg',\n            'transition-all duration-300 ease-out',\n            'border-border/50 hover:border-border',\n            'focus-within:border-primary/50 focus-within:shadow-xl focus-within:shadow-primary/5',\n            'focus-within:ring-2 focus-within:ring-primary/10'\n          )}\n        >\n          <Textarea\n            ref={inputRef}\n            value={inputValue}\n            onChange={(e) => setInputValue(e.target.value)}\n            onKeyDown={handleKeyDown}\n            placeholder=\"Ask me anything...\"\n            className={cn(\n              'min-h-[44px] max-h-[120px] resize-none flex-1',\n              'border-none bg-transparent shadow-none',\n              'focus-visible:ring-0 focus-visible:outline-none',\n              'placeholder:text-muted-foreground/60'\n            )}\n            rows={1}\n            disabled={isLoading}\n          />\n          <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>\n            {isStreaming ? (\n              <Button\n                onClick={handleStop}\n                size=\"icon\"\n                variant=\"outline\"\n                className=\"h-10 w-10 rounded-full shrink-0 border-destructive/50 hover:bg-destructive/10 hover:border-destructive\"\n              >\n                <Square className=\"h-4 w-4 text-destructive\" />\n              </Button>\n            ) : (\n              <Button\n                onClick={handleSend}\n                disabled={!inputValue.trim() || isLoading}\n                size=\"icon\"\n                className={cn(\n                  'h-10 w-10 rounded-full shrink-0',\n                  'bg-gradient-to-br from-primary to-primary/80',\n                  'shadow-md hover:shadow-lg hover:shadow-primary/20',\n                  'transition-all duration-200',\n                  'disabled:opacity-50 disabled:shadow-none'\n                )}\n              >\n                {status === 'submitted' ? (\n                  <Loader2 className=\"h-4 w-4 animate-spin\" />\n                ) : (\n                  <Send className=\"h-4 w-4\" />\n                )}\n              </Button>\n            )}\n          </motion.div>\n        </motion.div>\n        <p className=\"text-[10px] text-muted-foreground/50 text-center mt-2\">\n          Press Enter to send, Shift+Enter for new line\n        </p>\n      </div>\n    </motion.div>\n  );\n}\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction TooltipProvider({\n  delayDuration = 0,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\n  return (\n    <TooltipPrimitive.Provider\n      data-slot=\"tooltip-provider\"\n      delayDuration={delayDuration}\n      {...props}\n    />\n  )\n}\n\nfunction Tooltip({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\n  return (\n    <TooltipProvider>\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\n    </TooltipProvider>\n  )\n}\n\nfunction TooltipTrigger({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />\n}\n\nfunction TooltipContent({\n  className,\n  sideOffset = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <TooltipPrimitive.Arrow className=\"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  )\n}\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","/**\n * Chat State Store (Zustand)\n *\n * Global state management for the admin chat panel.\n * Persists across route changes within the admin panel.\n */\n\nimport { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\nimport type { ChatMessage } from './types';\n\nexport type ChatPanelMode = 'collapsed' | 'side' | 'full';\n\nexport interface ChatContext {\n  type: 'general' | 'product' | 'order' | 'page' | 'user' | 'blog';\n  id?: string;\n  title?: string;\n  data?: Record<string, unknown>;\n}\n\ninterface ChatState {\n  // Panel state\n  mode: ChatPanelMode;\n  setMode: (mode: ChatPanelMode) => void;\n  togglePanel: () => void;\n\n  // Current conversation\n  conversationId: string | null;\n  messages: ChatMessage[];\n  isLoading: boolean;\n  error: string | null;\n\n  // Context awareness\n  context: ChatContext;\n  setContext: (context: ChatContext) => void;\n\n  // Message actions\n  addMessage: (message: ChatMessage) => void;\n  updateMessage: (id: string, updates: Partial<ChatMessage>) => void;\n  setMessages: (messages: ChatMessage[]) => void;\n  clearMessages: () => void;\n\n  // Conversation actions\n  setConversationId: (id: string | null) => void;\n  startNewConversation: () => void;\n  setLoading: (loading: boolean) => void;\n  setError: (error: string | null) => void;\n\n  // History\n  conversationHistory: Array<{\n    id: string;\n    title: string;\n    lastMessage: string;\n    updatedAt: Date;\n    context?: ChatContext;\n  }>;\n  addToHistory: (conversation: { id: string; title: string; lastMessage: string; context?: ChatContext }) => void;\n  removeFromHistory: (id: string) => void;\n  loadConversation: (id: string) => void;\n  clearHistory: () => void;\n}\n\nexport const useChatStore = create<ChatState>()(\n  persist(\n    (set, get) => ({\n      // Panel state\n      mode: 'collapsed',\n      setMode: (mode) => set({ mode }),\n      togglePanel: () => {\n        const current = get().mode;\n        if (current === 'collapsed') {\n          set({ mode: 'side' });\n        } else {\n          set({ mode: 'collapsed' });\n        }\n      },\n\n      // Current conversation\n      conversationId: null,\n      messages: [],\n      isLoading: false,\n      error: null,\n\n      // Context\n      context: { type: 'general' },\n      setContext: (context) => set({ context }),\n\n      // Message actions\n      addMessage: (message) =>\n        set((state) => ({\n          messages: [...state.messages, message],\n        })),\n      updateMessage: (id, updates) =>\n        set((state) => ({\n          messages: state.messages.map((msg) =>\n            msg.id === id ? { ...msg, ...updates } : msg\n          ),\n        })),\n      setMessages: (messages) => set({ messages }),\n      clearMessages: () => set({ messages: [] }),\n\n      // Conversation actions\n      setConversationId: (id) => set({ conversationId: id }),\n      startNewConversation: () => {\n        const newId = crypto.randomUUID();\n        set({\n          conversationId: newId,\n          messages: [],\n          error: null,\n        });\n      },\n      setLoading: (isLoading) => set({ isLoading }),\n      setError: (error) => set({ error }),\n\n      // History\n      conversationHistory: [],\n      addToHistory: (conversation) =>\n        set((state) => {\n          // Remove existing entry if present, add to top\n          const filtered = state.conversationHistory.filter(\n            (c) => c.id !== conversation.id\n          );\n          return {\n            conversationHistory: [\n              { ...conversation, updatedAt: new Date() },\n              ...filtered,\n            ].slice(0, 50), // Keep last 50 conversations\n          };\n        }),\n      removeFromHistory: (id) =>\n        set((state) => ({\n          conversationHistory: state.conversationHistory.filter(\n            (c) => c.id !== id\n          ),\n        })),\n      loadConversation: (id) => {\n        const history = get().conversationHistory.find((c) => c.id === id);\n        if (history) {\n          set({\n            conversationId: id,\n            messages: [], // Messages will be loaded from the useChat hook via transport\n            error: null,\n            context: history.context || { type: 'general' },\n          });\n        }\n      },\n      clearHistory: () => set({ conversationHistory: [] }),\n    }),\n    {\n      name: 'admin-chat-storage',\n      partialize: (state) => ({\n        // Only persist these fields\n        mode: state.mode,\n        conversationId: state.conversationId,\n        messages: state.messages,\n        conversationHistory: state.conversationHistory,\n      }),\n    }\n  )\n);\n\n// Selector hooks for common patterns\nexport const useChatPanel = () => {\n  const mode = useChatStore((s) => s.mode);\n  const setMode = useChatStore((s) => s.setMode);\n  const togglePanel = useChatStore((s) => s.togglePanel);\n  return { mode, setMode, togglePanel };\n};\n\nexport const useChatMessages = () => {\n  const messages = useChatStore((s) => s.messages);\n  const addMessage = useChatStore((s) => s.addMessage);\n  const updateMessage = useChatStore((s) => s.updateMessage);\n  const setMessages = useChatStore((s) => s.setMessages);\n  const clearMessages = useChatStore((s) => s.clearMessages);\n  return { messages, addMessage, updateMessage, setMessages, clearMessages };\n};\n\nexport const useChatContext = () => {\n  const context = useChatStore((s) => s.context);\n  const setContext = useChatStore((s) => s.setContext);\n  return { context, setContext };\n};\n","'use client';\n\n/**\n * Hook to manage chat context based on current route and entity\n *\n * Automatically detects the current page type and entity from the URL\n * and updates the chat store context with entity titles when available.\n */\n\nimport { useEffect, useRef } from 'react';\nimport { usePathname, useParams } from 'next/navigation';\nimport { useChatContext } from '../lib/ai/chat-store';\nimport type { ChatContext } from '../lib/ai/chat-store';\n\ninterface ContextData {\n  title?: string;\n  data?: Record<string, unknown>;\n}\n\n/**\n * Fetch entity title based on context type and ID\n */\nasync function fetchEntityTitle(\n  type: ChatContext['type'],\n  id: string\n): Promise<string | null> {\n  try {\n    let endpoint = '';\n    switch (type) {\n      case 'product':\n        endpoint = `/api/admin/products/${id}`;\n        break;\n      case 'order':\n        endpoint = `/api/admin/orders/${id}`;\n        break;\n      case 'page':\n        endpoint = `/api/admin/pages/${id}`;\n        break;\n      case 'blog':\n        endpoint = `/api/admin/blog/${id}`;\n        break;\n      case 'user':\n        endpoint = `/api/admin/customers/${id}`;\n        break;\n      default:\n        return null;\n    }\n\n    const response = await fetch(endpoint);\n    if (!response.ok) return null;\n\n    const data = await response.json();\n\n    // Extract title based on entity type\n    switch (type) {\n      case 'product':\n        return data.name || data.title || null;\n      case 'order':\n        return `Order #${data.orderNumber || id.slice(0, 8)}`;\n      case 'page':\n        return data.title || data.name || null;\n      case 'blog':\n        return data.title || null;\n      case 'user':\n        return data.name || data.email || null;\n      default:\n        return null;\n    }\n  } catch (error) {\n    console.error('Failed to fetch entity title:', error);\n    return null;\n  }\n}\n\n/**\n * Hook that automatically sets chat context based on current route\n * and fetches entity titles when possible\n */\nexport function useAutoChatContext() {\n  const pathname = usePathname();\n  const params = useParams();\n  const { context, setContext } = useChatContext();\n  const lastFetchedRef = useRef<string | null>(null);\n\n  // Update context when path changes\n  useEffect(() => {\n    if (!pathname) return;\n\n    const newContext = detectContextFromPath(pathname, params);\n\n    // Only update if context changed\n    if (\n      newContext.type !== context.type ||\n      newContext.id !== context.id\n    ) {\n      setContext(newContext);\n\n      // Reset the last fetched ref when context changes\n      lastFetchedRef.current = null;\n    }\n  }, [pathname, params, setContext, context.type, context.id]);\n\n  // Fetch entity title when we have an ID\n  useEffect(() => {\n    const fetchTitle = async () => {\n      // Skip if already fetched, no ID, or already has title\n      if (!context.id || context.title || context.type === 'general') return;\n\n      const cacheKey = `${context.type}-${context.id}`;\n      if (lastFetchedRef.current === cacheKey) return;\n\n      lastFetchedRef.current = cacheKey;\n\n      const title = await fetchEntityTitle(context.type, context.id);\n      if (title) {\n        setContext({\n          ...context,\n          title,\n        });\n      }\n    };\n\n    fetchTitle();\n  }, [context, setContext]);\n}\n\n/**\n * Hook to manually set chat context with specific data\n */\nexport function useChatContextSetter() {\n  const { context, setContext } = useChatContext();\n\n  const setProductContext = (id: string, data?: ContextData) => {\n    setContext({\n      type: 'product',\n      id,\n      title: data?.title,\n      data: data?.data,\n    });\n  };\n\n  const setOrderContext = (id: string, data?: ContextData) => {\n    setContext({\n      type: 'order',\n      id,\n      title: data?.title,\n      data: data?.data,\n    });\n  };\n\n  const setPageContext = (id: string, data?: ContextData) => {\n    setContext({\n      type: 'page',\n      id,\n      title: data?.title,\n      data: data?.data,\n    });\n  };\n\n  const setBlogContext = (id: string, data?: ContextData) => {\n    setContext({\n      type: 'blog',\n      id,\n      title: data?.title,\n      data: data?.data,\n    });\n  };\n\n  const setUserContext = (id: string, data?: ContextData) => {\n    setContext({\n      type: 'user',\n      id,\n      title: data?.title,\n      data: data?.data,\n    });\n  };\n\n  const setGeneralContext = () => {\n    setContext({ type: 'general' });\n  };\n\n  return {\n    context,\n    setContext,\n    setProductContext,\n    setOrderContext,\n    setPageContext,\n    setBlogContext,\n    setUserContext,\n    setGeneralContext,\n  };\n}\n\n/**\n * Detect context type and ID from pathname\n */\nfunction detectContextFromPath(\n  pathname: string,\n  params: Record<string, string | string[] | undefined> | null\n): ChatContext {\n  // Admin product pages\n  if (pathname.startsWith('/admin/products/')) {\n    const id = extractId(pathname, '/admin/products/');\n    if (id && id !== 'new') {\n      return { type: 'product', id };\n    }\n    return { type: 'product' };\n  }\n\n  if (pathname === '/admin/products') {\n    return { type: 'product' };\n  }\n\n  // Admin order pages\n  if (pathname.startsWith('/admin/orders/')) {\n    const id = extractId(pathname, '/admin/orders/');\n    if (id) {\n      return { type: 'order', id };\n    }\n    return { type: 'order' };\n  }\n\n  if (pathname === '/admin/orders') {\n    return { type: 'order' };\n  }\n\n  // Admin page pages\n  if (pathname.startsWith('/admin/pages/')) {\n    const id = extractId(pathname, '/admin/pages/');\n    if (id && id !== 'new') {\n      return { type: 'page', id };\n    }\n    return { type: 'page' };\n  }\n\n  if (pathname === '/admin/pages') {\n    return { type: 'page' };\n  }\n\n  // Admin blog pages\n  if (pathname.startsWith('/admin/blog/')) {\n    const id = extractId(pathname, '/admin/blog/');\n    if (id && id !== 'new') {\n      return { type: 'blog', id };\n    }\n    return { type: 'blog' };\n  }\n\n  if (pathname === '/admin/blog') {\n    return { type: 'blog' };\n  }\n\n  // Admin customer pages\n  if (pathname.startsWith('/admin/customers/')) {\n    const id = extractId(pathname, '/admin/customers/');\n    if (id) {\n      return { type: 'user', id };\n    }\n    return { type: 'user' };\n  }\n\n  if (pathname === '/admin/customers') {\n    return { type: 'user' };\n  }\n\n  // Default to general context\n  return { type: 'general' };\n}\n\n/**\n * Extract entity ID from pathname\n */\nfunction extractId(pathname: string, prefix: string): string | null {\n  const remaining = pathname.slice(prefix.length);\n  const parts = remaining.split('/');\n  const id = parts[0];\n\n  // Return null for empty or special paths\n  if (!id || id === 'new' || id === 'edit') {\n    return null;\n  }\n\n  return id;\n}\n"],"mappings":"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","names":["useEffect","useRef","jsx","jsx","jsxs","useRef","useEffect"]}